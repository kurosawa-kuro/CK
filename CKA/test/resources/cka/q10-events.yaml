# Q10: Cluster Events Investigation
# Multiple resources with various issues for event analysis
---
apiVersion: v1
kind: Namespace
metadata:
  name: events-test
---
apiVersion: v1
kind: Pod
metadata:
  name: failing-pod
  namespace: events-test
spec:
  containers:
  - name: app
    # Intentionally wrong image
    image: nginx:nonexistent-tag-12345
    ports:
    - containerPort: 80
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: resource-hog
  namespace: events-test
spec:
  replicas: 2
  selector:
    matchLabels:
      app: hog
  template:
    metadata:
      labels:
        app: hog
    spec:
      containers:
      - name: app
        image: nginx:alpine
        resources:
          requests:
            # Intentionally high resource request
            memory: "10Gi"
            cpu: "10"
---
apiVersion: v1
kind: Pod
metadata:
  name: config-error
  namespace: events-test
spec:
  containers:
  - name: app
    image: nginx:alpine
    env:
    - name: CONFIG
      valueFrom:
        configMapKeyRef:
          # ConfigMap doesn't exist
          name: missing-config
          key: setting
